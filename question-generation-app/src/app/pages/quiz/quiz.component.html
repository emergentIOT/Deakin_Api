<div class="container">
 
  <!-- <des-button-group>
    <label><des-button>1</des-button> Upload content</label>
    <label><des-button format="outline">2</des-button> Review content</label>
    <des-button format="outline" size="small" [disabled]="true">2</des-button><label>Review content</label>
  </des-button-group> -->

  <app-tab-container (tabChanged)="tabChanged($event)" class="des-margin-top-large des-margin-bottom-large">
    <!-- <app-tab-panel title="1. Upload Content"> -->
    <app-tab-panel [active]="activeTab === 0"  title="Content & Key Phrases">
      <div class="container">
        <div class="row">
          <div class="col-sm-8 order-2 order-sm-1 des-margin-bottom-small vertical-grid-spacing">
            <form (ngSubmit)="generateQuiz()">
              <div class="des-form-group">
                <!-- <label for="first-name">Last name</label> -->
                <input placeholder="Quiz Title" type="text" 
                  [(ngModel)]="name" name="name" id="name" 
                  required class="des-form-item-field" />
              </div>
            </form>
          </div>
        </div>
        <div class="row">
            <app-text-editor #textEditor [tokens]="tokens" [textValue]="textValue" (newToken)='newToken($event)' 
                            (generateSuggestedAnswerTokens)='generateSuggestedAnswerTokens()'
              class="col-sm-8 order-2 order-sm-1 vertical-grid-spacing">
            </app-text-editor>
  
            <div class="col-sm-4 order-1 order-sm-2 vertical-grid-spacing align-items-end" id="chip-default-wrapper">
              <div class="row align-items-end" style="margin-top: 50px;">
                <ejs-chiplist cssClass="e-success" [chips]="tokens" #chipsList enableDelete="true" (delete)="deleteToken($event)">
                </ejs-chiplist>
              </div>
              <des-button-group spacing="none" style="position: absolute; top: 0px; right: 0; white-space: nowrap;">
                <des-button shape="round-left" size="small" type="text" [disabled]="canClearTokens ? null : 'disabled'" (click)="clearTokens()">Clear</des-button>
                <des-button shape="round-left" size="small" type="inverse-outline" [disabled]="canSuggestKeyPhrases ? null : 'disabled'" (click)="generateSuggestedAnswerTokens()">Suggest Key Phrases</des-button>
                <des-button shape="round-right" size="small" [disabled]="canGenerateQuiz ? null : 'disabled'" (click)="generateQuiz()">Generate Quiz</des-button>
              </des-button-group>
            </div>
          </div>
                    
      </div>
    </app-tab-panel>
    <!-- <app-tab-panel title="2. Review Content">
      <div class="row">
        <ng-container>
          
        </ng-container>
      </div>
    </app-tab-panel>
    <app-tab-panel title="3. Select answer token">
      <div class="row">
        <ng-container>
          
        </ng-container>
      </div>
    </app-tab-panel> -->
    <app-tab-panel [active]="activeTab === 1" title="Question Suggestions">
      <div class="container">
        <div class="row">
          <app-progress-bar
            min="0"
            [max]="5"
            [value]="2"
            [message]="'100% complete'"
          ></app-progress-bar>
        </div>
        <div class="row">
          <div
            *ngFor="let token of quiz?.tokens"
            class="col-12 vertical-grid-spacing"
          >
<!-- 
            <des-card layout="advertising" [desShadow]="2">
              <des-card-media>asdfasf</des-card-media>
              <div class="des-card-main">
                <div class="des-card-content">afda</div>
                <div class="des-card-footer">asdfadsfasdf</div>
              </div>
            </des-card> -->

            <des-card layout="horizontal">
              <!-- <div class="loading-img-container" *ngIf="token.status!== 'processed'">
                <img class="loading-img" src="/assets/spinner.svg"/>
              </div> -->
              <h2 class="des-card-title">
                <a title="{{getQuestionTitle(token)}}">
                  <img *ngIf="isProcessing(token)" class="loading-img" src="/assets/spinner.svg"/> 
                  <img *ngIf="isError(token)" class="loading-img" src="/assets/error.png"/> 
                  <span [ngClass]="{'loading-answer-text': isProcessing(token) || isError(token)}">{{getQuestionText(token)}}</span>
                </a>
              </h2>
              <p>{{getAnswerText(token)}}</p>
              
            </des-card>

            <!-- <h2 class="xh2">
              {{token.questionToken}}The big red lorry?
            </h2>
            <p class="xlead xh3">
              {{token.answerToken}}
            </p>
            <hr class="des-margin-top-medium des-margin-bottom-medium" /> -->
          </div>
        </div>
      </div>
    </app-tab-panel>
  </app-tab-container>

</div>

